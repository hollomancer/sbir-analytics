# Core ETL dependencies only (no ML/NLP heavy packages)
# Manually curated for Dagster Cloud Serverless deployment
# Keep this file lean to avoid >10min PEX unpacking timeout

# Dagster core
dagster>=1.7.0,<2.0.0
dagster-webserver>=1.7.0,<2.0.0
dagster-cloud>=1.7.0,<2.0.0

# Data processing (essential)
pandas>=2.2.0,<3.0.0
numpy<3
duckdb>=1.0.0,<2.0.0

# Database
neo4j>=5.20.0,<7.0.0

# Data validation
pydantic>=2.8.0,<3.0.0

# Logging and CLI
loguru>=0.7.0,<1.0.0
typer>=0.12.0,<1.0.0
rich>=13.7.0,<15.0.0

# Configuration
pyyaml>=6.0.0,<7.0.0

# String matching (lightweight)
rapidfuzz>=3.0.0,<4.0.0
jellyfish>=1.0.0,<2.0.0

# System utilities
psutil
memory_profiler
joblib>=1.4.2,<2.0.0

# HTTP client
httpx>=0.27.0,<1.0.0
tenacity>=8.2.3,<10.0.0

# AWS (S3 access)
boto3>=1.34.0,<2.0.0
cloudpathlib[s3]>=0.23.0,<1.0.0

# EXCLUDED HEAVY DEPENDENCIES (use GitHub Actions for ML instead):
# - scikit-learn (100+ MB) - ML training/inference
# - spacy (500+ MB with models) - NLP
# - sentence-transformers (200+ MB) - Embeddings
# - torch (2+ GB) - Deep learning
# - transformers (1+ GB) - HuggingFace models
# - rpy2 (R integration) - Fiscal analysis

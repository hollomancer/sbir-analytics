# .env.example - Example environment variables for local dev and compose
# Copy this file to `.env` and fill in secure values for your environment.
# NOTE: Do NOT commit your real `.env` into version control. This file is for example only.

# -----------------------
# Neo4j configuration
# -----------------------
# Neo4j authentication (username/password). Use a strong password for real deployments.
NEO4J_USER=neo4j
NEO4J_PASSWORD=change_me

# Neo4j plugins and memory tuning (optional examples)
# Use JSON array notation for plugins; keep as example values here.
NEO4J_PLUGINS='["apoc"]'
NEO4J_server_memory_pagecache_size=1G
NEO4J_server_memory_heap_max__size=1G

# -----------------------
# Application / runtime
# -----------------------
# Environment mode: dev | test | prod
ENVIRONMENT=dev

# Keep Python output unbuffered for container logs
PYTHONUNBUFFERED=1

# Docker image tag used by Make targets / CI (example)
DOCKER_IMAGE_NAME=sbir-etl:latest

# -----------------------
# SBIR ETL application-specific variables
# -----------------------
# Canonical Neo4j Bolt URL used by the application (compose service host in dev)
SBIR_ETL__NEO4J__BOLT_URL=bolt://neo4j:7687

# Individual connection pieces (application may prefer either URL or these pieces)
SBIR_ETL__NEO4J__HOST=neo4j
SBIR_ETL__NEO4J__PORT=7687
SBIR_ETL__NEO4J__USERNAME=${NEO4J_USER}
SBIR_ETL__NEO4J__PASSWORD=${NEO4J_PASSWORD}

# DuckDB defaults (path inside container or host bind mount)
SBIR_ETL__DUCKDB__DATABASE_PATH=data/processed/sbir.duckdb

# Data directories (when using bind mounts in dev)
SBIR_ETL__DATA_DIR=/app/data
SBIR_ETL__CONFIG_DIR=/app/config
SBIR_ETL__LOG_DIR=/app/logs
SBIR_ETL__METRICS_DIR=/app/metrics

# -----------------------
# Optional service toggles / tuning
# -----------------------
# Enable/disable optional containers in the dev compose profile
ENABLE_DUCKDB_TOOLS=true

# Health check / startup timeout (seconds)
SERVICE_STARTUP_TIMEOUT=120

# -----------------------
# CI / container test settings
# -----------------------
# When CI runs the test compose profile, set CI=true to apply CI-specific behavior
CI=false

# -----------------------
# E2E Testing settings
# -----------------------
# E2E test scenario: minimal|standard|large|edge-cases
E2E_TEST_SCENARIO=standard

# E2E test timeout in seconds
E2E_TEST_TIMEOUT=600

# Enable MacBook Air optimizations (resource limits, memory settings)
MACBOOK_AIR_MODE=true

# Memory limit for E2E tests (in GB)
MEMORY_LIMIT_GB=8

# CPU limit for E2E tests
CPU_LIMIT=2.0

# E2E Neo4j ports (to avoid conflicts with dev instance)
NEO4J_E2E_HTTP_PORT=7475
NEO4J_E2E_BOLT_PORT=7688

# -----------------------
# Notes
# -----------------------
# - Copy this file to `.env` and populate secure values before running `docker compose`.
# - Keep `.env` out of version control; use `.env.example` to document the variables.
# - The compose files and entrypoint scripts should reference these variables via ${VAR_NAME}.
# - For production deployments, prefer secret managers / environment injection rather than a plain `.env` file.

# PatentsView API Key (required for patent enrichment)
PATENTSVIEW_API_KEY=
